!function(){"use strict";function e(e,t){var i=window.getComputedStyle(e,null).getPropertyValue(t);return -1!=i.indexOf("px")?parseInt(i):i}function t(e){return Array.prototype.slice.call(e)}function i(){this._init()}window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)}),TweenLite.defaultEase=Expo.easeOut,i.prototype={_init:function(){this.isFF=!!navigator.userAgent.match(/firefox/i),this.evttype="click",this.Slider=document.getElementById("slider"),this.imagesCount=new t(this.Slider.querySelectorAll("img:not(.ignore)")).length,this.sldInterval=6e3,this.isAnimating=!1,this.current=0,this.minScale=.7,this._createSlider()},_createSlider:function(){var e=this;this.originalImgsEl=new t(this.Slider.querySelectorAll("img:not(.ignore)")),this.images=[];var i=document.createElement("div");classie.addClass(i,"mainImages"),this.Slider.appendChild(i);var n=document.createElement("div");classie.addClass(n,"backgroundImages"),this.Slider.appendChild(n);var s=document.createElement("div");classie.addClass(s,"navigation"),this.Slider.appendChild(s),this.mainImages=this.Slider.querySelector(".mainImages"),this.backgroundImages=this.Slider.querySelector(".backgroundImages"),this.navigation=this.Slider.querySelector(".navigation"),this.navigation.innerHTML="<ul></ul>",this.originalImgsEl.forEach(function(t,i){var n=t.attributes.src.nodeValue,s=t.attributes.alt.nodeValue,a=t.dataset.url;e.images.push({src:n,alt:s,url:a,index:i}),e.Slider.removeChild(t)});for(var a=0;a<this.images.length;a++){var r=this.images[a];this._createNewImgs(r),this._createNavigation(r)}this.sld=new t(this.Slider.querySelectorAll(".mi__img")),this.bgSld=new t(this.Slider.querySelectorAll(".bi__imgCont")),this.navItens=new t(this.navigation.querySelectorAll("li")),this._firstPosition()},_createNewImgs:function(e){var t=document.createElement("div"),i=document.createElement("div"),n=document.createElement("div");classie.addClass(t,"mi__img"),classie.addClass(i,"bi__imgCont"),classie.addClass(n,"bi__imgCont-img"),classie.addClass(n,"bi-"+e.index),t.style.background="url("+e.src+") no-repeat center center",t.style.backgroundSize="cover",t.style.zIndex=this.imagesCount-(e.index+1),n.style.background="url("+e.src+") no-repeat center center",n.style.backgroundSize="cover",n.style.filter="blur(10px)",n.style.width="100%",n.style.height="100%",i.appendChild(n),this.mainImages.appendChild(t),this.backgroundImages.appendChild(i),this.backgroundImages.style.display="none"},_createNavigation:function(t){var i,n,s,a=this.navigation.querySelector("ul"),r=document.createElement("li"),l=function e(t,i){return(t=t.toString()).length<i?e("0"+t,i):t}(t.index+1,2);classie.addClass(r,"navItem-"+t.index),r.innerHTML='<a href=""></a><div class="li__info"></div><div class="li__info-mask"><div class="mask__infoContainer"></div></div><div class="li__hoverLine"><div class="l"></div></div>',a.appendChild(r),i=a.querySelector(".navItem-"+t.index+" a"),n=a.querySelector(".navItem-"+t.index+" .li__info"),s=a.querySelector(".navItem-"+t.index+" .mask__infoContainer"),i.setAttribute("href",t.url);var o="<h5>"+l+"</h5><h4>"+t.alt+"</h4>";n.innerHTML=o,s.innerHTML=o,s.style.width=e(r,"width")+"px",this.isFF&&(s.style.width=e(r,"width")+5+"px")},_firstPosition:function(){var e=this;TweenMax.set(this.navigation,{opacity:0,y:25}),this.sld.forEach(function(t,i){classie.addClass(t,"sld-"+i),0===i?TweenMax.set(t,{scale:1.3,opacity:0}):TweenMax.set(t,{scale:e.minScale,y:-window.innerHeight})}),this.bgSld.forEach(function(t,i){classie.addClass(t,"bg-"+i),TweenMax.set(t.querySelector(".bi__imgCont-img"),{scale:1.35,y:80}),t.style.zIndex=0,i===e.current&&(TweenMax.set(t.querySelector(".bi__imgCont-img"),{scale:1.5,y:0}),t.style.zIndex=e.current+2),i===e.current+1&&(t.style.zIndex=e.current+1)}),setTimeout(function(){e._enterAnimation()},1200)},_enterAnimation:function(){var e=this,t=new TimelineMax({paused:!0,onComplete:function(){e._startSlider(),e.backgroundImages.style.display="block"}});t.to(e.sld[e.current],2.5,{scale:1,opacity:1}),t.to(e.navigation,1.2,{opacity:1,y:0},.8),t.restart()},_startSlider:function(){var e,t=this,i=this.sld[this.current],n=this.navItens[this.current],s=this.bgSld[this.current],a=s.querySelector(".bi__imgCont-img");e=n,classie.addClass(e,"active"),e.querySelector(".li__info").style.opacity=.3,e.querySelector(".li__info-mask").style.opacity=1,TweenMax.to(e.querySelector(".li__info-mask"),t.sldInterval/1e3,{width:"100%",ease:Linear.easeNone,onComplete:function(){var e,r;e=t.current<t.imagesCount-1?++t.current:0,classie.removeClass(i,"active-slide"),classie.removeClass(n,"active"),TweenMax.set(s,{top:0,bottom:"inherit"}),n.querySelector(".li__info").style.opacity=.7,TweenMax.to(n.querySelector(".li__info-mask"),.5,{opacity:0,onComplete:function(){n.querySelector(".li__info-mask").style.width="0%"}}),r=new TimelineMax({onComplete:function(){var n;TweenMax.killTweensOf(i,s),TweenMax.set(i,{scale:t.minScale,y:-window.innerHeight}),TweenMax.set(s,{height:"100%",top:"inherit",bottom:0}),TweenMax.set(a,{scale:1.35,y:80}),s.style.zIndex=0,t.bgSld[e].style.zIndex=2,e+1>=t.imagesCount?t.bgSld[0].style.zIndex=1:t.bgSld[e+1].style.zIndex=1,t.current=e,n=e,$(".travel-info").css("display","none"),$(`.travel-info:eq(${n})`).css("display","block"),t._startSlider()}}),r.to(i,1.5,{scale:.8}),r.to(a,1.2,{scale:1.35},.15),r.to(i,1.2,{y:window.innerHeight},.8),r.to(s,1.2,{height:"0%"},.8),r.to(t.sld[e],1.2,{y:0},.8),r.to(t.sld[e],1.5,{scale:1},1.8),r.to(t.bgSld[e].querySelector(".bi__imgCont-img"),1.5,{y:0},1),r.to(t.bgSld[e].querySelector(".bi__imgCont-img"),1.5,{scale:1.5},1.8)}}),classie.addClass(i,"active-slide")}},new i}();
