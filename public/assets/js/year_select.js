!function(t){var e=function(e,s){this.$el=e,this.options=t.extend({},t.fn.yearselect.defaults,s),this.start=this.options.start||this.start,this.end=this.options.end||this.end,this.step=this.options.step||this.step,this.order=this.options.order||this.order,this.selected=this.options.selected||this.$el.data("selected")||this.selected,this.years=[],this.init()};e.prototype={constructor:e,init:function(){"desc"==(order=this.order.toLowerCase())&&(this.start=this.options.end,this.end=this.options.start),this.destroy(),this.render(order)},render:function(t){"asc"==(t=t.toLowerCase())?this.renderAscending():"desc"==t&&this.renderDescending()},renderAscending:function(){for(var e=this.start;e<=this.end;e+=this.step){this.years.push(e);var s=t("<option>").html(e).val(e);this.$el.append(s),e==this.selected&&this.setSelected(e)}},renderDescending:function(){for(var e=this.start;e>=this.end;e-=this.step){this.years.push(e);var s=t("<option>").html(e).val(e);this.$el.append(s),e==this.selected&&this.setSelected(e)}},setSelected:function(t){this.$el.val(t)},destroy:function(){this.years=[],this.$el.html("")}},t.fn.yearselect=function(s){return this.each(function(){var i=t(this);if(!i.is("select")){var a={name:i.attr("name")||i.data("name")||"",class:i.attr("class")||i.data("class")||"",id:i.attr("id")||i.data("id")||"",selected:i.attr("value")||i.data("selected")||""};console.log(a),i=t('<select class="yearselect"></select>').attr("name",a.name).attr("class",a.class).attr("id",a.id).data("selected",a.selected),t(this).replaceWith(i),console.log(i.data("selected"))}new e(i,s)})},t.fn.yearselect.defaults={start:new Date().getFullYear(),end:new Date().getFullYear()+15,step:1,order:"asc",selected:null}}(jQuery);
